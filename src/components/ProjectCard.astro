---
import { ExternalLink, Github } from 'lucide-astro';

interface Props {
	title: string;
	description: string;
	url?: string;
	github?: string;
	tags?: string[];
	type?: 'saas' | 'trading' | 'software';
}

const { title, description, url, github, tags = [], type = 'software' } = Astro.props;

const typeColors = {
	saas: 'from-blue-500/20 to-cyan-500/20 text-cyan-400 border-cyan-500/30',
	trading: 'from-purple-500/20 to-pink-500/20 text-purple-400 border-purple-500/30',
	software: 'from-emerald-500/20 to-teal-500/20 text-emerald-400 border-emerald-500/30'
};
---

<div class="glass-card group p-6 rounded-3xl flex flex-col gap-4 relative overflow-hidden">
	<!-- Background Highlight -->
	<div class={`absolute -top-24 -right-24 w-48 h-48 bg-gradient-to-br ${type === 'saas' ? 'from-cyan-500' : type === 'trading' ? 'from-purple-500' : 'from-emerald-500'} opacity-0 group-hover:opacity-10 blur-3xl transition-opacity duration-500`}></div>

	<div class="flex justify-between items-start">
		<span class={`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border bg-gradient-to-r ${typeColors[type]}`}>
			{type}
		</span>
		
		<div class="flex gap-2">
			{github && (
				<a href={github} target="_blank" class="p-2 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all">
					<Github size={18} />
				</a>
			)}
			{url && (
				<a href={url} target="_blank" class="p-2 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all">
					<ExternalLink size={18} />
				</a>
			)}
		</div>
	</div>

	<div class="space-y-2">
		<h3 class="text-xl font-bold font-display group-hover:text-accent-blue transition-colors">
			{title}
		</h3>
		<p class="text-slate-400 text-sm leading-relaxed line-clamp-3 group-hover:line-clamp-none transition-all duration-300">
			{description}
		</p>
	</div>

	{tags.length > 0 && (
		<div class="flex flex-wrap gap-2 pt-2">
			{tags.map(tag => (
				<span class="text-[10px] bg-white/5 px-2 py-1 rounded-md text-slate-500 border border-white/5">
					{tag}
				</span>
			))}
		</div>
	)}

	{url && (
		<a href={url} target="_blank" class="mt-auto pt-4 flex items-center gap-2 text-xs font-bold text-accent-blue group-hover:gap-3 transition-all">
			VIEW PROJECT <ExternalLink size={12} />
		</a>
	)}
</div>
